{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<Hds::AppFrame as |Frame|>
  <Frame.Sidebar>
    <Hds::SideNav @isResponsive={{true}} @hasA11yRefocus={{true}} @a11yRefocusSkipTo="my-content-id">
      <:header>
        <Hds::SideNav::Header>
          <:logo>
            <Hds::SideNav::Header::HomeLink @icon="hashicorp" @ariaLabel="HashiCorp" @route="demo-app" />
          </:logo>
          <:actions>
            <Hds::Dropdown class="hds-side-nav__dropdown" @listPosition="left" as |dd|>
              <dd.ToggleIcon @icon="help" @text="settings menu" />
              <dd.Title @text="Signed In" />
              <dd.Description @text="email@domain.com" />
              <dd.Separator />
              <dd.Interactive @href="#" @text="Settings and Preferences" />
            </Hds::Dropdown>
            <Hds::Dropdown class="hds-side-nav__dropdown" @listPosition="left" as |dd|>
              <dd.ToggleIcon @icon="user" @text="user menu" />
              <dd.Title @text="Signed In" />
              <dd.Description @text="email@domain.com" />
              <dd.Interactive @href="#" @text="Account Settings" />
            </Hds::Dropdown>
          </:actions>
        </Hds::SideNav::Header>
      </:header>
      <:body>
        <Hds::SideNav::Portal::Target />
      </:body>
      <:footer>
        <div class="demo-app-fake-org-switcher hds-side-nav-hide-when-minimized">
          <FlightIcon @name="org" />
          <span>fake-org-switcher</span>
          <FlightIcon @name="caret" />
        </div>
      </:footer>
    </Hds::SideNav>
  </Frame.Sidebar>
  <Frame.Main id="my-content-id">
    {{outlet}}
    <Hds::PageHeader as |PH|>
      <PH.Title>
        <div class="demo-app-page-header-title">Submodules /
          <Hds::Dropdown @listPosition="bottom-left" as |dd|>
            <dd.ToggleButton @color="secondary" @text="Submodules" />
            <dd.Interactive @route="demo-app.submodules" @model="submodule-1" @text="submodule-1" />
            <dd.Interactive @route="demo-app.submodules" @model="submodule-2" @text="submodule-2" />
          </Hds::Dropdown>
        </div>
      </PH.Title>
    </Hds::PageHeader>

    <Hds::Tabs @onClickTab={{@persistActiveTab}} as |T|>
      {{#each this.tabs as |tab|}}
        <T.Tab @count={{tab.count}} @isSelected={{eq @tab tab.key}} data-tab-key={{tab.key}} data-test-tab={{tab.key}}>
          {{tab.title}}
        </T.Tab>
        <T.Panel>
          {{component tab.component module=@module submodule=@submodule data-test-tab-component=tab.key}}
        </T.Panel>
      {{/each}}
    </Hds::Tabs>
    <div>

    </div>
  </Frame.Main>
  <Frame.Footer />
  <Frame.Modals id="my-modals-id" data-test-modals-container />
</Hds::AppFrame>

<Hds::SideNav::Portal as |Nav|>
  <Nav.BackLink @route="demo-app" @text="Back to demo-app" />
</Hds::SideNav::Portal>